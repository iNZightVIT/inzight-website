---
title: Maps
description: Visualise geographical data on maps using coordinates or regional boundaries.
sidebar_label: Maps
---

import { Desktop, Lite } from "@site/src/components/VersionToggle/inzVersion";

:::caution Maps Module Status
The Maps module is currently undergoing maintenance. Base map functionality requires a Stadia Maps API key, which may not be configured in all installations. Regional (choropleth) maps using shapefiles should still work. Please check with your system administrator or [contact us](/support/contact) if you encounter issues.
:::

The Maps module makes it easy to visualise geographical data on a map and investigate spatial patterns. iNZight supports two types of map data: coordinate-based (latitude/longitude points) and region-based (countries, states, etc.).

## Features

- **Coordinate maps**: Plot points using latitude and longitude
- **Regional maps**: Colour regions based on data values (choropleth maps)
- **Multiple map types**: Roadmap, satellite, terrain, and hybrid views
- **Visual encoding**: Colour, size, and transparency based on variables
- **Subsetting**: View subsets of data using slider controls
- **Animation**: Animate maps over time for spatial time series data

## Getting Started

### Accessing the Module

<Desktop>

Go to **Advanced** â†’ **Maps** from the menu bar.

</Desktop>

<Lite>

Select **Maps** from the module dropdown menu.

</Lite>

### Preparing Your Data

Your data should contain either:

1. **Coordinate data**: Columns for latitude and longitude values
2. **Regional data**: A column identifying regions (country names, state codes, etc.)

## Coordinate Maps

Use coordinate maps when each observation has a specific location defined by latitude and longitude values.

### Setting Up

1. Select **Coordinate** as the map type
2. Choose the **Latitude** variable from the dropdown
3. Choose the **Longitude** variable from the dropdown

:::tip
iNZight will try to automatically detect latitude and longitude columns based on common names. If your columns have non-standard names, select them manually.
:::

### Point Appearance Options

Customise how points appear on the map:

| Option | Description |
|:-------|:------------|
| **Colour by** | Points coloured according to a variable's values |
| **Size by** | Point size proportional to a variable's values |
| **Transparency by** | Point opacity based on a variable's values |
| **Point colour** | Single colour for all points (when not using Colour by) |
| **Point size** | Overall size adjustment for points |
| **Transparency** | Overall transparency (0 = fully visible, 1 = invisible) |

### Connect Points

Enable **Connect points by lines** to draw lines between consecutive observations. This is useful for:
- Tracking movement or paths
- Showing trajectories over time
- Connecting related locations

### Map Types

Choose from different base map styles:

- **Roadmap**: Street map with labels
- **Satellite**: Aerial/satellite imagery
- **Terrain**: Physical features with elevation shading
- **Hybrid**: Satellite imagery with labels overlay

<Lite>

:::note
Maps in iNZight Lite use Stadia Maps as the base map provider.
:::

</Lite>

## Regional Maps (Choropleth)

Use regional maps when your data corresponds to geographic areas like countries, states, or districts.

### Setting Up

1. Select **Regions** as the map type
2. Choose the **Map Location** (e.g., World, USA, New Zealand)
3. Select the **Location Variable** (column containing region names)
4. Choose a **Plotting Variable** to visualise on the map

### Region Matching

iNZight tries to match your data's region names with the built-in map boundaries. Common formats supported include:
- Full names: "New Zealand", "United States"
- ISO codes: "NZ", "US"
- State/province names: "California", "Auckland"

:::tip
If regions don't match, check for spelling differences or try different name formats in your data.
:::

### Customisation Options

| Option | Description |
|:-------|:------------|
| **Colour** | Colour palette for the filled regions |
| **Missing value colour** | Colour for regions without data |
| **Plot labels** | Add Name, Value, or Both to regions |

### Label Options

Add informative labels to your map:
- **Name**: Show region names
- **Value**: Show the data values
- **Both**: Show both name and value

## Subsetting Data

View different slices of your data by adding subset variables:

1. Select **Subset variable 1** from the dropdown
2. Optionally select **Subset variable 2** for a second dimension
3. Use the sliders that appear to navigate through subset levels

This is especially useful for:
- Viewing changes over time (subset by year, month)
- Comparing categories (subset by group)
- Exploring temporal patterns

## Advanced Features

### Animated Maps

<Lite>

For time series spatial data, you can create animated maps that show changes over time:

1. Add a time variable as a subset variable
2. Use the play/animate controls to cycle through time periods
3. Watch patterns emerge as the map updates

</Lite>

### Sparkline Overlays

<Lite>

For regional data with multiple observations per region, display small line charts (sparklines) overlaid on each region to show trends.

</Lite>

### Custom Shapefiles

<Desktop>

You can import custom shapefiles (.shp) to map data to non-standard regions:

1. Go to the Maps module
2. Select "Load shapefile" option
3. Navigate to your .shp file

The shapefile should include an attribute that can be matched with your data.

</Desktop>

## Tips

- **Check coordinate format**: Latitude should be between -90 and 90, longitude between -180 and 180
- **Watch for missing values**: Regions without data will use the missing value colour
- **Consider projections**: For large areas, map projections can affect how shapes appear
- **Use transparency**: When points overlap, increasing transparency can reveal patterns
- **Start simple**: Begin with a basic map, then add visual encodings one at a time

## Troubleshooting

### Points not appearing

- Verify latitude and longitude are in the correct columns
- Check that coordinate values are numeric and in valid ranges
- Ensure the map view includes your data's location

### Regions not matching

- Check spelling matches between your data and the map
- Try different region name formats (full name vs abbreviation)
- Verify you've selected the correct Map Location

### Map looks blank

- Confirm a plotting variable is selected for regional maps
- Check that your data contains valid values
- Try a different colour palette if values are very similar
